<script type="text/javascript">
  field_to_update = "#race_term1";
  
  function update(val) {
    $(field_to_update).attr('value', val);
    field_to_update = (field_to_update == "#race_term1") ? "#race_term2" : "#race_term1"
  }
</script>

<table align="center">
  <tr>
    <td valign="top" width="50%">
      <p>
        <em>
          Note: to compare mentions of two twitter users, please enter their Twitter handles, prefixed with the &quot;@&quot; symbol.
        </em>
      </p>
      <% form_for(@race) do |f| %>
        <%= f.error_messages %>
        <p>
          <%= f.label "Query 1" %>: 
          <%= f.text_field :term1 %>
        </p>
        <p>
          <%= f.label "Query 2" %>: 
          <%= f.text_field :term2 %>
        </p>
        <p>
          <%= f.label :race_to %>:
          <%= f.text_field :race_to %>
        </p>
        <p align="center">
          <%= f.submit '...off to the races!' %>
        </p>
      <% end %>
    </td>
    <td valign="top" width="50%">
      <p>Current trends on Twitter:</p>
      <ul>
        <% TwitterTrends::current.each do |trend| %>
        <li>
          <a style="cursor: pointer;" onclick="update('<%=h trend %>');"><%=h trend %></a>
        </li>
        <% end %>
      </ul>
    </td>
  </tr>
</table>